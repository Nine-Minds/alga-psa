[
  { "id": "F001", "description": "Define the unified Designer AST node shape: { id, type, props, children } and workspace root container contract.", "implemented": true },
  { "id": "F002", "description": "Define a canonical store state: { rootId, nodesById } plus UI state (selection, hover, canvas settings, history).", "implemented": true },
  { "id": "F003", "description": "Implement generic immutable patch operations: setNodeProp(path), unsetNodeProp(path), insertChild, removeChild, moveNode, deleteNode(subtree).", "implemented": true },
  { "id": "F004", "description": "Refactor undo/redo history to snapshot or replay unified-tree patches deterministically with bounded history length.", "implemented": true },
  { "id": "F005", "description": "Introduce component schema definitions as the single source of truth for: label, description, category, defaults, editable props schema, and hierarchy rules.", "implemented": true },
  { "id": "F006", "description": "Move nesting allowlists (allowed parents/children) out of state/hierarchy.ts into the component schema module.", "implemented": true },
  { "id": "F007", "description": "Update palette insertion to create nodes using schema defaults and attach them via insertChild (no bespoke per-type defaults in the store).", "implemented": false },
  { "id": "F008", "description": "Refactor outline view and breadcrumbs to traverse children using nodesById/rootId (no reliance on parentId persistence).", "implemented": false },
  { "id": "F009", "description": "Refactor selection and hover logic to use nodesById (including derived parent lookup when needed).", "implemented": false },
  { "id": "F010", "description": "Refactor canvas rendering to consume unified nodes (resolve props.style/props.layout/props.metadata) without referencing legacy typed fields.", "implemented": false },
  { "id": "F011", "description": "Refactor drag-drop reorder and reparent actions to call moveNode/insertChild/removeChild on the unified tree only.", "implemented": false },
  { "id": "F012", "description": "Refactor resizing to write sizing-related values via setNodeProp (for example style.width/style.height/flexBasis) and remove updateNodeSize API.", "implemented": false },
  { "id": "F013", "description": "Implement a schema-driven Inspector that renders editable controls by reading the selected nodeâ€™s component schema.", "implemented": false },
  { "id": "F014", "description": "Implement Inspector field types and normalizers: string, number, boolean, enum, css-length, css-color; support grouped panels and conditional visibility.", "implemented": false },
  { "id": "F015", "description": "Add schema widgets for complex metadata editing (table columns, dynamic-table, totals rows) replacing hardcoded inspectors where present.", "implemented": false },
  { "id": "F016", "description": "Update workspace import/export (designer <-> invoice-template AST) to map to/from unified props while preserving deterministic roundtrips.", "implemented": false },
  { "id": "F017", "description": "Remove legacy typed node fields from the persisted workspace format (position/size/allowedChildren/parentId/etc.) where no longer needed.", "implemented": false },
  { "id": "F018", "description": "Delete packages/billing/src/components/invoice-designer/state/hierarchy.ts and migrate all call sites to schema-based hierarchy rules.", "implemented": false },
  { "id": "F019", "description": "Delete unused per-property store helpers/actions and update all tests to target unified tree patch semantics.", "implemented": false },
  { "id": "F020", "description": "Add developer docs in SCRATCHPAD.md: schema format, patch semantics, and conventions for adding new properties/components.", "implemented": false }
]
