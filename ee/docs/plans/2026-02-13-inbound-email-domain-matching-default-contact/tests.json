[
  {
    "id": "T001",
    "description": "Unit: sender email normalization extracts the correct domain (display-name formats, uppercase emails)",
    "implemented": true,
    "featureIds": ["F001"]
  },
  {
    "id": "T002",
    "description": "Unit: domain-to-client lookup returns null when no contacts exist for the domain",
    "implemented": true,
    "featureIds": ["F002"]
  },
  {
    "id": "T003",
    "description": "Unit: domain-to-client lookup returns the client_id when exactly one unique client has contacts in that domain",
    "implemented": true,
    "featureIds": ["F002"]
  },
  {
    "id": "T004",
    "description": "Unit: domain-to-client lookup returns null when multiple clients share the same domain (ambiguous match)",
    "implemented": true,
    "featureIds": ["F002"]
  },
  {
    "id": "T005",
    "description": "Integration: inbound email new-ticket path uses exact contact match when sender email matches an existing contact (baseline behavior)",
    "implemented": true,
    "featureIds": ["F005", "F006"]
  },
  {
    "id": "T006",
    "description": "Integration: inbound email new-ticket path uses domain fallback to set ticket.client_id when sender has no exact contact match but domain uniquely maps to one client",
    "implemented": true,
    "featureIds": ["F005", "F006"]
  },
  {
    "id": "T007",
    "description": "Integration: domain fallback sets ticket.contact_name_id to the matched client's configured default contact (client.properties.primary_contact_id)",
    "implemented": true,
    "featureIds": ["F003", "F004", "F005"]
  },
  {
    "id": "T008",
    "description": "Integration: domain fallback with no configured default contact sets ticket.contact_name_id to null (but still sets ticket.client_id from domain match)",
    "implemented": true,
    "featureIds": ["F003", "F005"]
  },
  {
    "id": "T009",
    "description": "Integration: ambiguous domain match (multiple clients share domain) falls back to inbound defaults client_id and keeps contact null",
    "implemented": true,
    "featureIds": ["F002", "F005"]
  },
  {
    "id": "T010",
    "description": "Integration: when domain fallback selects a different client than inbound defaults, defaults.location_id is not applied (location_id is null)",
    "implemented": true,
    "featureIds": ["F007"]
  },
  {
    "id": "T011",
    "description": "Integration: workflow action `resolve_inbound_ticket_context` returns targetClientId/targetContactId consistent with in-app domain fallback logic",
    "implemented": true,
    "featureIds": ["F008"]
  },
  {
    "id": "T012",
    "description": "UI: client details screen can set default contact and persists it to client.properties.primary_contact_id",
    "implemented": true,
    "featureIds": ["F009"]
  },
  {
    "id": "T013",
    "description": "UI: clearing the client default contact removes/empties client.properties.primary_contact_id and primary_contact_name",
    "implemented": true,
    "featureIds": ["F010"]
  }
]
