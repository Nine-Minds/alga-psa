@tailwind base;
@tailwind components;
@tailwind utilities;

/* Add grid-cols-24 utility class */
@layer utilities {
  .grid-cols-24 {
    grid-template-columns: repeat(24, minmax(0, 1fr));
  }

  /* Month/Year dropdown styles */
  .month-year-dropdown {
    max-height: 15rem;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--color-primary-400)) rgb(var(--color-border-100));
  }

  .month-year-dropdown::-webkit-scrollbar {
    width: 6px;
  }

  .month-year-dropdown::-webkit-scrollbar-track {
    background: rgb(var(--color-border-100));
    border-radius: 3px;
  }

  .month-year-dropdown::-webkit-scrollbar-thumb {
    background: rgb(var(--color-primary-400));
    border-radius: 3px;
  }

  .month-year-dropdown::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--color-primary-600));
  }

  .month-year-option {
    transition: background-color 0.2s ease;
  }

  .month-year-option:hover {
    background-color: rgb(var(--color-primary-50)) !important;
  }

  .month-year-option.selected {
    background-color: rgb(var(--color-primary-100)) !important;
  }

  /* Sidebar scrollbar styles */
  .sidebar-nav {
    overscroll-behavior: contain;
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--color-border-300)) var(--color-sidebar-bg);
  }

  .sidebar-nav::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar-nav::-webkit-scrollbar-track {
    background: var(--color-sidebar-bg);
  }

  .sidebar-nav::-webkit-scrollbar-thumb {
    background: rgb(var(--color-border-300));
    border-radius: 4px;
  }

  .sidebar-nav::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--color-border-400));
  }
}

@layer components {
  .spinner {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-style: solid;
    border-radius: 9999px;
    border-color: rgba(var(--color-primary-500));
    border-top-color: rgb(var(--color-secondary-500));
    animation: spinner-spin 0.9s linear infinite;
    background-color: transparent;
  }

  .spinner-inner {
    position: absolute;
    inset: 28%;
    border-radius: inherit;
    background: rgba(var(--color-primary-500), 0.2);
  }
}

@keyframes spinner-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

html,
body,
#__next {
    height: 100%;
    margin: 0;
}

/* Add placeholder styles */
::placeholder,
[data-placeholder] {
    color: rgb(var(--color-text-400)) !important;
}

.extension-loading-overlay {
    position: absolute;
    inset: 0;
    z-index: 10;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1.5rem;
    text-align: center;
    border-radius: 0.75rem;
    border: 1px solid rgb(var(--color-border-200) / 0.9);
    background:
        linear-gradient(180deg,
            rgb(var(--color-primary-400) / 0.16) 0%,
            rgb(var(--color-secondary-400) / 0.12) 100%),
        rgb(var(--color-border-50) / 0.82);
    box-shadow: 0 24px 48px rgb(var(--color-primary-500) / 0.18);
    backdrop-filter: blur(10px);
    color: rgb(var(--color-text-600));
}

.extension-loading-indicator {
    gap: 0.75rem;
}

.extension-loading-text {
    font-size: 0.95rem;
    font-weight: 600;
    color: rgb(var(--color-text-600));
}

.extension-loading-subtext {
    font-size: 0.8125rem;
    line-height: 1.3;
    color: rgb(var(--color-text-400));
    max-width: 18rem;
}

.extension-loading-overlay--error {
    border-color: rgb(var(--color-destructive) / 0.45);
    background:
        linear-gradient(180deg,
            rgb(var(--color-destructive) / 0.15) 0%,
            rgb(var(--color-destructive) / 0.08) 100%),
        rgb(var(--color-border-50) / 0.9);
    box-shadow: 0 24px 48px rgb(var(--color-destructive) / 0.18);
}

.extension-loading-overlay--error .extension-loading-text {
    color: rgb(var(--color-destructive));
}

.extension-loading-overlay--error .extension-loading-subtext {
    color: rgb(var(--color-destructive-foreground));
}

.dark {
    --background: 0, 0, 0;

    /* SEMANTIC BADGE COLORS - not affected by branding */
    --badge-info-bg: 30 58 138;         /* blue-900 for dark mode */
    --badge-info-text: 191 219 254;     /* blue-200 */
    --badge-info-border: 30 64 175;     /* blue-800 */
    --badge-warning-bg: 120 53 15;      /* amber-900 for dark mode */
    --badge-warning-text: 253 230 138;  /* amber-200 */
    --badge-warning-border: 146 64 14;  /* amber-800 */

    /* BORDER COLOR */
    --color-border-base: 100 116 139;
    --color-border-50: 15 23 42;
    --color-border-100: 30 41 59;
    --color-border-200: 51 65 85;
    --color-border-300: 71 85 105;
    --color-border-400: 100 116 139;
    --color-border-500: 148 163 184;
    --color-border-600: 203 213 225;
    --color-border-700: 226 232 240;
    --color-border-800: 241 245 249;
    --color-border-900: 248 250 252;

    /* TEXT COLORS */
    --color-text-base: 100 116 139;
    --color-text-50: 15 23 42;
    --color-text-100: 30 41 59;
    --color-text-200: 51 65 85;
    --color-text-300: 71 85 105;
    --color-text-400: 100 116 139;
    --color-text-500: 148 163 184;
    --color-text-600: 203 213 225;
    --color-text-700: 226 232 240;
    --color-text-800: 241 245 249;
    --color-text-900: 248 250 252;

    /* MAIN COLORS */
    /* Purple (#8a4dea) */
    --color-primary-50: 82 46 140;
    --color-primary-100: 96 54 164;
    --color-primary-200: 110 61 187;
    --color-primary-300: 124 69 211;
    --color-primary-400: 138 77 234;
    --color-primary-500: 152 85 238;
    --color-primary-600: 166 115 242;
    --color-primary-700: 184 145 245;
    --color-primary-800: 202 168 249;
    --color-primary-900: 220 197 251;

    /* Blue (#40cff9) */
    --color-secondary-50: 38 124 149;
    --color-secondary-100: 45 145 174;
    --color-secondary-200: 51 166 199;
    --color-secondary-300: 58 186 224;
    --color-secondary-400: 64 207 249;
    --color-secondary-500: 83 215 250;
    --color-secondary-600: 102 223 251;
    --color-secondary-700: 140 236 250;
    --color-secondary-800: 179 243 251;
    --color-secondary-900: 217 249 253;

    /* Orange (#ff9c30) */
    --color-accent-50: 153 94 28;
    --color-accent-100: 179 109 33;
    --color-accent-200: 204 125 38;
    --color-accent-300: 230 140 43;
    --color-accent-400: 255 156 48;
    --color-accent-500: 255 166 69;
    --color-accent-600: 255 176 89;
    --color-accent-700: 255 201 102;
    --color-accent-800: 255 219 153;
    --color-accent-900: 255 237 204;

    /* Destructive Colors */
    --color-destructive: 220 38 38; /* red-600 */
    --color-destructive-foreground: 254 226 226; /* red-100 */

    /* Sidebar Colors  */
    --color-sidebar-bg: #1b1a1a;
    --color-sidebar-text: #f5f5f5;
    --color-sidebar-hover: #808080;
    --color-sidebar-icon: #909090;


    /* SubMenu Colors  */
    --color-submenu-bg: #D0D5DD;
    --color-submenu-text: #000000;
    --color-submenu-hover: #808080;
    --color-submenu-icon: #909090;


    background: rgba(var(--background), 1);
}


.light {
    --background: 255, 255, 255;

    /* SEMANTIC BADGE COLORS - not affected by branding */
    --badge-info-bg: 219 234 254;       /* blue-100 */
    --badge-info-text: 30 64 175;       /* blue-800 */
    --badge-info-border: 191 219 254;   /* blue-200 */
    --badge-warning-bg: 254 243 199;    /* amber-100 */
    --badge-warning-text: 146 64 14;    /* amber-800 */
    --badge-warning-border: 253 230 138; /* amber-200 */

    /* BORDER COLOR */
    --color-border-base: 148 163 184;
    --color-border-50: 248 250 252;
    --color-border-100: 241 245 249;
    --color-border-200: 226 232 240;
    --color-border-300: 203 213 225;
    --color-border-400: 148 163 184;
    --color-border-500: 100 116 139;
    --color-border-600: 71 85 105;
    --color-border-700: 51 65 85;
    --color-border-800: 30 41 59;
    --color-border-900: 15 23 42;

    /* TEXT COLORS */
    --color-text-base: 148 163 184;
    --color-text-50: 248 250 252;
    --color-text-100: 241 245 249;
    --color-text-200: 226 232 240;
    --color-text-300: 203 213 225;
    --color-text-400: 148 163 184;
    --color-text-500: 100 116 139;
    --color-text-600: 71 85 105;
    --color-text-700: 51 65 85;
    --color-text-800: 30 41 59;
    --color-text-900: 15 23 42;

    /* MAIN COLORS */
    /* Purple (#8a4dea) */
    --color-primary-50: 246 240 254;
    --color-primary-100: 237 226 253;
    --color-primary-200: 220 197 251;
    --color-primary-300: 202 168 249;
    --color-primary-400: 166 115 242;
    --color-primary-500: 138 77 234;
    --color-primary-600: 124 69 211;
    --color-primary-700: 110 61 187;
    --color-primary-800: 96 54 164;
    --color-primary-900: 82 46 140;

    /* Blue (#40cff9) */
    --color-secondary-50: 236 252 254;
    --color-secondary-100: 217 249 253;
    --color-secondary-200: 179 243 251;
    --color-secondary-300: 140 236 250;
    --color-secondary-400: 102 223 251;
    --color-secondary-500: 64 207 249;
    --color-secondary-600: 58 186 224;
    --color-secondary-700: 51 166 199;
    --color-secondary-800: 45 145 174;
    --color-secondary-900: 38 124 149;

    /* Orange (#ff9c30) */
    --color-accent-50: 255 246 230;
    --color-accent-100: 255 237 204;
    --color-accent-200: 255 219 153;
    --color-accent-300: 255 201 102;
    --color-accent-400: 255 176 89;
    --color-accent-500: 255 156 48;
    --color-accent-600: 230 140 43;
    --color-accent-700: 204 125 38;
    --color-accent-800: 179 109 33;
    --color-accent-900: 153 94 28;

    /* Destructive Colors */
    --color-destructive: 220 38 38; /* red-600 */
    --color-destructive-foreground: 153 27 27; /* red-800 */

    /* Sidebar Colors  */
    --color-sidebar-bg: #0C111D;
    --color-sidebar-text: #f5f5f5;
    --color-sidebar-hover: #808080;
    --color-sidebar-icon: #909090;


    /* SubMenu Colors  */
    --color-submenu-bg: #1b1a1a;
    --color-submenu-text: #f5f5f5;
    --color-submenu-hover: #808080;
    --color-submenu-icon: #909090;


    background: rgba(var(--background), 1);

}

/* Give a remote user a caret */
.collaboration-cursor__caret {
    border-left: 1px solid #0d0d0d;
    border-right: 1px solid #0d0d0d;
    margin-left: -1px;
    margin-right: -1px;
    pointer-events: none;
    position: relative;
    word-break: normal;
}

/* Render the username above the caret */
.collaboration-cursor__label {
    border-radius: 3px 3px 3px 0;
    color: #0d0d0d;
    font-size: 0.75rem;
    font-style: normal;
    font-weight: 600;
    left: -1px;
    line-height: normal;
    padding: 0.1rem 0.3rem;
    position: absolute;
    top: -1.4em;
    user-select: none;
    white-space: nowrap;
}

.scrollbar-hide {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
    display: none;
    /* Chrome, Safari and Opera */
}

.bg-dotted {
    background-image: radial-gradient(circle, rgba(209, 213, 219, 0.8) 1px, transparent 1px);
    background-size: 20px 20px;
}

.ProseMirror:focus {
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
}

/* Add this to your globals.css file */

/* Table styles */
.radix-themes {
    --table-header-bg: transparent;
    --table-row-hover: rgba(0, 0, 0, 0.05);
    width: 100%;
}

/* Force tables to take full width */
.rt-TableRoot {
    width: 100% !important;
    table-layout: fixed !important;
}

.rt-ScrollAreaViewport > * {
    width: 100% !important;
}

.rt-TableCell,
.rt-TableColumnHeaderCell {
    width: auto !important;
}

.rt-TableHeader {
    background-color: transparent;
}

.rt-TableRoot {
    border: 1px solid rgb(var(--color-border-200));
    border-radius: 8px;
    overflow: hidden;
}

.rt-TableRow:hover {
    background-color: rgba(0, 0, 0, 0.05);
}

.rt-TableCell,
.rt-TableColumnHeaderCell {
    padding: 12px 16px;
    color: rgb(var(--color-text-700));
}

.rt-Button {
    font-weight: 500;
}

/* Adjust text colors */
.text-2xl {
    color: rgb(var(--color-text-900));
}

.radix-themes {
    --table-border-color: transparent !important;
  }
  
  .rt-TableRoot, .rt-TableHeader, .rt-TableBody, .rt-TableRow, .rt-TableCell, .rt-TableColumnHeaderCell {
    border-color: transparent !important;
  }

  thead tr,
  thead tr th,
  table th,
  .rt-TableHeader,
  .rt-TableRow,
  .rt-TableColumnHeaderCell {
    border: none !important;
    border-bottom: none !important;
    border-color: transparent !important;
  }

  button[role="switch"] {
    width: 42px;
    height: 25px;
    background-color: rgb(var(--color-border-400));
    border-radius: 9999px;
    position: relative;
    transition: background-color 0.2s;
  }
  
  button[role="switch"][data-state="checked"] {
    background-color: rgb(var(--color-primary-500));
  }
  
  button[role="switch"]::before {
    content: "";
    display: block;
    width: 21px;
    height: 21px;
    background-color: white;
    border-radius: 9999px;
    position: absolute;
    top: 2px;
    left: 2px;
    transition: transform 0.2s;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  
  button[role="switch"][data-state="checked"]::before {
    transform: translateX(17px);
  }

.rt-SwitchThumb {
  box-shadow: none !important;
}

/* Switch with Label styles */
.switch-with-label {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Switch base styles */
.switch-root {
  width: 42px;
  height: 25px;
  background-color: rgb(var(--color-border-400));
  border-radius: 9999px;
  position: relative;
  transition: all 0.2s ease;
  cursor: pointer;
  border: none;
  outline: none;
}

/* When on - using your primary color */
.switch-root[data-state="checked"] {
  background-color: rgb(var(--color-primary-500));
}

.switch-root[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Switch thumb/circle styles */
.switch-thumb {
  display: block;
  width: 21px;
  height: 21px;
  background-color: white;
  border-radius: 9999px;
  position: absolute;
  top: 2px;
  left: 2px;
  transition: transform 0.2s ease;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.switch-root[data-state="checked"] .switch-thumb {
  transform: translateX(17px);
}

/* Label styles */
.switch-label {
  color: rgb(var(--color-text-700));
  font-size: 14px;
  user-select: none;
}

/* Schedule grid styles */
.schedule-grid {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.schedule-grid::-webkit-scrollbar {
  height: 8px;
}

.schedule-grid::-webkit-scrollbar-track {
  background: rgb(var(--color-border-100));
  border-radius: 4px;
}

.schedule-grid::-webkit-scrollbar-thumb {
  background: rgb(var(--color-border-300));
  border-radius: 4px;
}

.schedule-grid::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--color-border-400));
}

/* Time slot styles */
.time-slot {
  min-width: 60px;
  text-align: center;
  padding: 4px;
  font-size: 0.75rem;
  border-right: 1px solid rgb(var(--color-border-200));
}

.time-slot:last-child {
  border-right: none;
}

/* Working hours styles */
.time-slot-working {
  background-color: white;
}

.time-slot-non-working {
  background-color: rgb(var(--color-border-100));
}

/* Time header styles */
.time-header-working {
  color: rgb(var(--color-text-900));
  font-weight: 600;
}

.time-header-non-working {
  color: rgb(var(--color-text-500));
}

/* Add drag and drop styles */
[data-dragging="true"] {
  opacity: 0.9 !important;
  cursor: grabbing !important;
}

/* Hide the ghost image */
[data-dragging="true"]::after {
  content: none !important;
}

.draggable {
  cursor: grab;
  user-select: none;
}

.draggable:active {
  cursor: grabbing;
}

.drag-over {
  background-color: rgba(var(--color-primary-100), 0.2);
}

/* Override react-day-picker default styles */
.rdp {
  --rdp-accent-color: rgb(var(--color-primary-100)) !important;
  --rdp-background-color: rgb(var(--color-primary-50)) !important;
  margin: 0 !important;
}

.rdp-button:focus:not([disabled]) {
  background-color: rgb(var(--color-primary-50)) !important;
  border: none !important;
  box-shadow: 0 0 0 2px rgb(var(--color-primary-100)) !important;
}

.rdp-day_selected:not([disabled]) {
  background-color: rgb(var(--color-primary-100)) !important;
  color: rgb(var(--color-text-700)) !important;
}

.rdp-day_selected:hover:not([disabled]) {
  background-color: rgb(var(--color-primary-200)) !important;
}

.rdp-button:hover:not([disabled]):not(.rdp-day_selected) {
  background-color: rgb(var(--color-primary-50)) !important;
  color: rgb(var(--color-text-700)) !important;
}

/* Navigation arrows */
.rdp-nav_button {
  color: rgb(var(--color-primary-400)) !important;
  background: none !important;
  border: none !important;
}

.rdp-nav_button:hover {
  color: rgb(var(--color-primary-600)) !important;
  background-color: rgb(var(--color-primary-50)) !important;
}

.rdp-nav_button:focus-visible {
  color: rgb(var(--color-primary-600)) !important;
  background-color: rgb(var(--color-primary-50)) !important;
  box-shadow: 0 0 0 2px rgb(var(--color-primary-100)) !important;
}

/* Selected date circle */
.rdp-day_selected {
  color: rgb(var(--color-text-700)) !important;
  border: none !important;
  outline: none !important;
  background-color: rgb(var(--color-primary-100)) !important;
}

.rdp-day_today {
  color: rgb(var(--color-primary-600)) !important;
  font-weight: 500 !important;
}


/* Wider drawer for ticket documents */
.ticket-document-drawer {
  min-width: 40vw !important;
  max-width: 60vw !important;
}

/* Smooth focus treatment for custom checkboxes */
.alga-checkbox {
  transition: box-shadow 0.15s ease, border-color 0.15s ease;
}

.alga-checkbox:focus,
.alga-checkbox:focus-visible {
  outline: none !important;
}
